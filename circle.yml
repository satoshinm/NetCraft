dependencies:
    pre:
        - sudo apt-get install cmake libglew-dev xorg-dev libcurl4-openssl-dev
        - sudo apt-get install libglfw-dev
        - mkdir native-build
        - cd native-build && cmake ..
        - sudo apt-get install emscripten
        - mkdir release-build-js
        - cd release-build-js && cmake -DCMAKE_BUILD_TYPE=Release -DCMAKE_TOOLCHAIN_FILE=/usr/share/emscripten/cmake/Modules/Platform/Emscripten.cmake ..
test:
    override:
        - cd native-build && make
        - cd release-build-js && make
general:
    artifacts:
        - "native-build/craft"
        - "native-build/textures"
        - "native-build/shaders"
